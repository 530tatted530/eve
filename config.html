
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuration &#8212; Eve 0.10.dev0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Validation" href="validation.html" />
    <link rel="prev" title="Features" href="features.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="configuration">
<span id="config"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Generally Eve configuration is best done with configuration files. The
configuration files themselves are actual Python files. However, Eve will
give precedence to dictionary-based settings first, then it will try to
locate a file passed in <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EVE_SETTINGS</span></code> environmental variable (if
set) and finally it will try to locate <cite>settings.py</cite> or a file with filename
passed to <cite>settings</cite> flag in constructor.</p>
<div class="section" id="configuration-with-files">
<h2>Configuration With Files<a class="headerlink" href="#configuration-with-files" title="Permalink to this headline">¶</a></h2>
<p>On startup, if <cite>settings</cite> flag is omitted in constructor, Eve will try to locate
file named <cite>settings.py</cite>, first in the application folder and then in one of the
application’s subfolders. You can choose an alternative filename/path, just pass
it as an argument when you instantiate the application. If the file path is
relative, Eve will try to locate it recursively in one of the folders in your
<cite>sys.path</cite>, therefore you have to be sure that your application root is appended
to it. This is useful, for example, in testing environments, when settings file
is not necessarily located in the root of your application.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eve</span> <span class="kn">import</span> <span class="n">Eve</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Eve</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="s1">&#39;my_settings.py&#39;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-with-a-dictionary">
<h2>Configuration With a Dictionary<a class="headerlink" href="#configuration-with-a-dictionary" title="Permalink to this headline">¶</a></h2>
<p>Alternatively, you can choose to provide a settings dictionary. Unlike
configuring Eve with the settings file, dictionary-based approach will only
update Eve’s default settings with your own values, rather than overwriting
all the settings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eve</span> <span class="kn">import</span> <span class="n">Eve</span>

<span class="n">my_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;MONGO_HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
    <span class="s1">&#39;MONGO_PORT&#39;</span><span class="p">:</span> <span class="mi">27017</span><span class="p">,</span>
    <span class="s1">&#39;MONGO_DBNAME&#39;</span><span class="p">:</span> <span class="s1">&#39;the_db_name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;DOMAIN&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;contacts&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<span class="p">}</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Eve</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">my_settings</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="development-production">
<h2>Development / Production<a class="headerlink" href="#development-production" title="Permalink to this headline">¶</a></h2>
<p>Most applications need more than one configuration. There should be at least
separate configurations for the production server and the one used during
development. The easiest way to handle this is to use a default configuration
that is always loaded and part of the version control, and a separate
configuration that overrides the values as necessary.</p>
<p>This is the main reason why you can override or extend the settings with the
contents of the file the <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EVE_SETTINGS</span></code> environment variable points to.
The development/local settings could be stored in <cite>settings.py</cite> and then, in
production, you could export EVE_SETTINGS=/path/to/production_setting.py, and
you are done.</p>
<p>There are many alternative ways to handle development/production
however. Using Python modules for configuration is very convenient, as they
allow for all kinds of nice tricks, like being able to seamlessly launch the
same API on both local and production systems, connecting to the appropriate
database instance as needed.  Consider the following example, taken directly
from the <a class="reference internal" href="index.html#demo"><span class="std std-ref">Live demo</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># We want to run seamlessly our API both locally and on Heroku, so:</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;PORT&#39;</span><span class="p">):</span>
    <span class="c1"># We&#39;re hosted on Heroku! Use the MongoHQ sandbox as our backend.</span>
    <span class="n">MONGO_HOST</span> <span class="o">=</span> <span class="s1">&#39;alex.mongohq.com&#39;</span>
    <span class="n">MONGO_PORT</span> <span class="o">=</span> <span class="mi">10047</span>
    <span class="n">MONGO_USERNAME</span> <span class="o">=</span> <span class="s1">&#39;&lt;user&gt;&#39;</span>
    <span class="n">MONGO_PASSWORD</span> <span class="o">=</span> <span class="s1">&#39;&lt;pw&gt;&#39;</span>
    <span class="n">MONGO_DBNAME</span> <span class="o">=</span> <span class="s1">&#39;&lt;dbname&gt;&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Running on local machine. Let&#39;s just use the local mongod instance.</span>

    <span class="c1"># Please note that MONGO_HOST and MONGO_PORT could very well be left</span>
    <span class="c1"># out as they already default to a bare bones local &#39;mongod&#39; instance.</span>
    <span class="n">MONGO_HOST</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span>
    <span class="n">MONGO_PORT</span> <span class="o">=</span> <span class="mi">27017</span>
    <span class="n">MONGO_USERNAME</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="n">MONGO_PASSWORD</span> <span class="o">=</span> <span class="s1">&#39;user&#39;</span>
    <span class="n">MONGO_DBNAME</span> <span class="o">=</span> <span class="s1">&#39;apitest&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="global-configuration">
<span id="global"></span><h2>Global Configuration<a class="headerlink" href="#global-configuration" title="Permalink to this headline">¶</a></h2>
<p>Besides defining the general API behavior, most global configuration settings
are used to define the standard endpoint ruleset, and can be fine-tuned later,
when configuring individual endpoints. Global configuration settings are always
uppercase.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">URL_PREFIX</span></code></td>
<td>URL prefix for all API endpoints. Will be
used in conjunction with <code class="docutils literal notranslate"><span class="pre">API_VERSION</span></code> to
build API endpoints (e.g., <code class="docutils literal notranslate"><span class="pre">api</span></code> will be
rendered to <code class="docutils literal notranslate"><span class="pre">/api/&lt;endpoint&gt;</span></code>).  Defaults
to <code class="docutils literal notranslate"><span class="pre">''</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">API_VERSION</span></code></td>
<td>API version. Will be used in conjunction with
<code class="docutils literal notranslate"><span class="pre">URL_PREFIX</span></code> to build API endpoints
(e.g., <code class="docutils literal notranslate"><span class="pre">v1</span></code> will be rendered to
<code class="docutils literal notranslate"><span class="pre">/v1/&lt;endpoint&gt;</span></code>). Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_FILTERS</span></code></td>
<td><p class="first">List of fields on which filtering is allowed.
Entries in this list work in a hierarchical
way. This means that, for instance, filtering
on <code class="docutils literal notranslate"><span class="pre">'dict.sub_dict.foo'</span></code> is allowed if
<code class="docutils literal notranslate"><span class="pre">ALLOWED_FILTERS</span></code> contains any of
<code class="docutils literal notranslate"><span class="pre">'dict.sub_dict.foo</span></code>, <code class="docutils literal notranslate"><span class="pre">'dict.sub_dict'</span></code>
or <code class="docutils literal notranslate"><span class="pre">'dict'</span></code>. Instead filtering on
<code class="docutils literal notranslate"><span class="pre">'dict'</span></code> is allowed if <code class="docutils literal notranslate"><span class="pre">ALLOWED_FILTERS</span></code>
contains <code class="docutils literal notranslate"><span class="pre">'dict'</span></code>.
Can be set to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (no filters allowed)
or <code class="docutils literal notranslate"><span class="pre">['*']</span></code> (filters allowed on every
field). Unless your API is comprised of
just one endpoint, this global setting
should be used as an on/off switch,
delegating explicit whitelisting at the
local level (see <code class="docutils literal notranslate"><span class="pre">allowed_filters</span></code>
below). Defaults to <code class="docutils literal notranslate"><span class="pre">['*']</span></code>.</p>
<p class="last"><em>Please note:</em> If API scraping or DB DoS
attacks are a concern, then globally
disabling filters and whitelisting valid
ones at the local level is the way to go.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VALIDATE_FILTERS</span></code></td>
<td><p class="first">Whether to validate the filters against the
resource schema. Invalid filters will throw
an exception. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p class="last">Word of caution: validation on filter
expressions involving fields with custom
rules or types might have a considerable
impact on performance. This is the case,
for example, with <code class="docutils literal notranslate"><span class="pre">data_relation</span></code>-rule
fields. Consider excluding heavy-duty
fields from filters (see
<code class="docutils literal notranslate"><span class="pre">ALLOWED_FILTERS</span></code>).</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">SORTING</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if sorting is supported for <code class="docutils literal notranslate"><span class="pre">GET</span></code>
requests, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Can be
overridden by resource settings. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PAGINATION</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if pagination is enabled for <code class="docutils literal notranslate"><span class="pre">GET</span></code>
requests, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Can be
overridden by resource settings. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PAGINATION_LIMIT</span></code></td>
<td>Maximum value allowed for QUERY_MAX_RESULTS
query parameter. Values exceeding the
limit will be silently replaced with this
value. You want to aim for a reasonable
compromise between performance and transfer
size. Defaults to 50.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PAGINATION_DEFAULT</span></code></td>
<td>Default value for QUERY_MAX_RESULTS.
Defaults to 25.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">OPTIMIZE_PAGINATION_FOR_SPEED</span></code></td>
<td>Set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to improve pagination
performance. When optimization is active no
count operation, which can be slow on large
collections, is performed on the database.
This does have a few consequences.
Firstly, no document count is returned.
Secondly, <code class="docutils literal notranslate"><span class="pre">HATEOAS</span></code> is less accurate: no
last page link is available, and next page
link is always included, even on last page.
On big collections, switching this feature
on can greatly improve performance.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code> (slower performance;
document count included; accurate
<code class="docutils literal notranslate"><span class="pre">HATEOAS</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">QUERY_WHERE</span></code></td>
<td>Key for the filters query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">where</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">QUERY_SORT</span></code></td>
<td>Key for the sort query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">sort</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">QUERY_PROJECTION</span></code></td>
<td>Key for the projections query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">projection</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">QUERY_PAGE</span></code></td>
<td>Key for the pages query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">page</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">QUERY_MAX_RESULTS</span></code></td>
<td>Key for the max results query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">max_results</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">QUERY_EMBEDDED</span></code></td>
<td>Key for the embedding query parameter. Defaults to <code class="docutils literal notranslate"><span class="pre">embedded</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">QUERY_AGGREGATION</span></code></td>
<td>Key for the aggregation query parameter.
Defaults to <code class="docutils literal notranslate"><span class="pre">aggregate</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">DATE_FORMAT</span></code></td>
<td>A Python date format used to parse and render
datetime values. When serving requests,
matching JSON strings will be parsed and
stored as <code class="docutils literal notranslate"><span class="pre">datetime</span></code> values. In
responses, <code class="docutils literal notranslate"><span class="pre">datetime</span></code> values will be
rendered as JSON strings using this format.
Defaults to the RFC1123 (ex RFC 822)
standard <code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">%d</span> <span class="pre">%b</span> <span class="pre">%Y</span> <span class="pre">%H:%M:%S</span> <span class="pre">GMT</span></code>
(“Tue, 02 Apr 2013 10:29:13 GMT”).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">RESOURCE_METHODS</span></code></td>
<td>A list of HTTP methods supported at resource
endpoints. Allowed values: <code class="docutils literal notranslate"><span class="pre">GET</span></code>,
<code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>. <code class="docutils literal notranslate"><span class="pre">POST</span></code> is used for
insertions. <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> will delete <em>all</em>
resource contents (enable with caution).
Can be overridden by resource settings.
Defaults to <code class="docutils literal notranslate"><span class="pre">['GET']</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PUBLIC_METHODS</span></code></td>
<td>A list of HTTP methods supported at resource
endpoints, open to public access even when
<a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> is enabled. Can be overridden
by resource settings. Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ITEM_METHODS</span></code></td>
<td>A list of HTTP methods supported at item
endpoints. Allowed values: <code class="docutils literal notranslate"><span class="pre">GET</span></code>,
<code class="docutils literal notranslate"><span class="pre">PATCH</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code> and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>. <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>
or, for clients not supporting PATCH,
<code class="docutils literal notranslate"><span class="pre">POST</span></code> with the <code class="docutils literal notranslate"><span class="pre">X-HTTP-Method-Override</span></code>
header tag, is used for item updates;
<code class="docutils literal notranslate"><span class="pre">DELETE</span></code> for item deletion. Can be
overridden by resource settings. Defaults to
<code class="docutils literal notranslate"><span class="pre">['GET']</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PUBLIC_ITEM_METHODS</span></code></td>
<td>A list of HTTP methods supported at item
endpoints, left open to public access when
when <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> is enabled. Can be
overridden by resource settings. Defaults
to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoints. Can be overridden by resource
settings. See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_READ_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoints with GET and OPTIONS methods.
Can be overridden by resource
settings. See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_WRITE_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoints with POST, PUT and DELETE
methods. Can be overridden by resource
settings. See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoints.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information. Can
be overridden by resource settings.
Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_READ_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoints
with GET and OPTIONS methods.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information. Can
be overridden by resource settings.
Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_WRITE_ROLES</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoints
with PUT, PATCH and DELETE methods.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information. Can
be overridden by resource settings.
Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ALLOW_OVERRIDE_HTTP_METHOD</span></code></td>
<td>Enables / Disables global the possibility
to override the sent method with a header
<code class="docutils literal notranslate"><span class="pre">X-HTTP-METHOD-OVERRIDE</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">CACHE_CONTROL</span></code></td>
<td>Value of the <code class="docutils literal notranslate"><span class="pre">Cache-Control</span></code> header field
used when serving <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests (e.g.,
<code class="docutils literal notranslate"><span class="pre">max-age=20,must-revalidate</span></code>). Leave
empty if you don’t want to include cache
directives with API responses. Can be
overridden by resource settings. Defaults
to <code class="docutils literal notranslate"><span class="pre">''</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">CACHE_EXPIRES</span></code></td>
<td>Value (in seconds) of the <code class="docutils literal notranslate"><span class="pre">Expires</span></code> header
field used when serving <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests.
If set to a non-zero value, the header will
always be included, regardless of the
setting of <code class="docutils literal notranslate"><span class="pre">CACHE_CONTROL</span></code>. Can be
overridden by resource settings. Defaults
to 0.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">X_DOMAINS</span></code></td>
<td>CORS (Cross-Origin Resource Sharing) support.
Allows API maintainers to specify which
domains are allowed to perform CORS
requests. Allowed values are: <code class="docutils literal notranslate"><span class="pre">None</span></code>,
a list of domains, or <code class="docutils literal notranslate"><span class="pre">'*'</span></code> for
a wide-open API. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X_DOMAINS_RE</span></code></td>
<td>The same setting as <code class="docutils literal notranslate"><span class="pre">X_DOMAINS</span></code>, but a list
of regexes is allowed. This is useful for
websites with dynamic ranges of
subdomains. Make sure to properly anchor and
escape the regexes. Invalid
regexes (such as <code class="docutils literal notranslate"><span class="pre">'*'</span></code>) are ignored.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">X_HEADERS</span></code></td>
<td>CORS (Cross-Origin Resource Sharing) support.
Allows API maintainers to specify which
headers are allowed to be sent with CORS
requests. Allowed values are: <code class="docutils literal notranslate"><span class="pre">None</span></code> or
a list of headers names. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X_EXPOSE_HEADERS</span></code></td>
<td>CORS (Cross-Origin Resource Sharing) support.
Allows API maintainers to specify which
headers are exposed within a CORS response.
Allowed values are: <code class="docutils literal notranslate"><span class="pre">None</span></code> or
a list of headers names. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">X_ALLOW_CREDENTIALS</span></code></td>
<td>CORS (Cross-Origin Resource Sharing) support.
Allows API maintainers to specify if cookies can
be sent by clients.
The only allowed value is: <code class="docutils literal notranslate"><span class="pre">True</span></code>, any other
will be ignored. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X_MAX_AGE</span></code></td>
<td>CORS (Cross-Origin Resource Sharing)
support. Allows to set max age for the
access control allow header. Defaults to
21600.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">LAST_UPDATED</span></code></td>
<td>Name of the field used to record a document’s
last update date. This field is
automatically handled by Eve. Defaults to
<code class="docutils literal notranslate"><span class="pre">_updated</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DATE_CREATED</span></code></td>
<td>Name for the field used to record a document
creation date. This field is automatically
handled by Eve. Defaults to <code class="docutils literal notranslate"><span class="pre">_created</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code></td>
<td>Name of the field used to uniquely identify
resource items within the database. You
want this field to be properly indexed on
the database. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">_id</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ITEM_LOOKUP</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if item endpoints should be generally
available across the API, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ITEM_LOOKUP_FIELD</span></code></td>
<td>Document field used when looking up a resource
item. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ITEM_URL</span></code></td>
<td>URL rule used to construct default item
endpoint URLs. Can be overridden by
resource settings. Defaults
<code class="docutils literal notranslate"><span class="pre">regex(&quot;[a-f0-9]{24}&quot;)</span></code> which is MongoDB
standard <code class="docutils literal notranslate"><span class="pre">Object_Id</span></code> format.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ITEM_TITLE</span></code></td>
<td>Title to be used when building item references,
both in XML and JSON responses. Defaults to
resource name, with the plural ‘s’ stripped
if present. Can and most likely will be
overridden when configuring single resource
endpoints.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">AUTH_FIELD</span></code></td>
<td>Enables <a class="reference internal" href="authentication.html#user-restricted"><span class="std std-ref">User-Restricted Resource Access</span></a>. When the
feature is enabled, users can only
read/update/delete resource items created
by themselves. The keyword contains the
actual name of the field used to store the
id of the user who created the resource
item. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, which
disables the feature.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ALLOW_UNKNOWN</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option will allow insertion
of arbitrary, unknown fields to any API
endpoint. Use with caution. See
<a class="reference internal" href="validation.html#unknown"><span class="std std-ref">Allowing the Unknown</span></a> for more information.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PROJECTION</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option enables the
<a class="reference internal" href="features.html#projections"><span class="std std-ref">Projections</span></a> feature. Can be
overridden by resource settings. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">EMBEDDING</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option enables the
<a class="reference internal" href="features.html#embedded-docs"><span class="std std-ref">Embedded Resource Serialization</span></a> feature. Defaults to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">BANDWIDTH_SAVER</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, POST, PUT, and PATCH responses
only return automatically handled fields
and <code class="docutils literal notranslate"><span class="pre">EXTRA_RESPONSE_FIELDS</span></code>. When
<code class="docutils literal notranslate"><span class="pre">False</span></code>, the entire document will be
sent. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">EXTRA_RESPONSE_FIELDS</span></code></td>
<td>Allows to configure a list of additional
document fields that should be provided
with every POST response. Normally only
automatically handled fields (<code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code>,
<code class="docutils literal notranslate"><span class="pre">LAST_UPDATED</span></code>, <code class="docutils literal notranslate"><span class="pre">DATE_CREATED</span></code>,
<code class="docutils literal notranslate"><span class="pre">ETAG</span></code>) are included in response
payloads. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">[]</span></code>, effectively
disabling the feature.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">RATE_LIMIT_GET</span></code></td>
<td>A tuple expressing the rate limit on GET
requests. The first element of the tuple is
the number of requests allowed, while the
second is the time window in seconds. For
example, <code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">15)</span></code> would set
a limit of 300 requests every 15 minutes.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">RATE_LIMIT_POST</span></code></td>
<td>A tuple expressing the rate limit on POST
requests. The first element of the tuple is
the number of requests allowed, while the
second is the time window in seconds. For
example <code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">15)</span></code> would set
a limit of 300 requests every 15 minutes.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">RATE_LIMIT_PATCH</span></code></td>
<td>A tuple expressing the rate limit on PATCH
requests. The first element of the tuple is
the number of requests allowed, while the
second is the time window in seconds. For
example <code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">15)</span></code> would set
a limit of 300 requests every 15 minutes.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">RATE_LIMIT_DELETE</span></code></td>
<td>A tuple expressing the rate limit on DELETE
requests. The first element of the tuple is
the number of requests allowed, while the
second is the time window in seconds. For
example <code class="docutils literal notranslate"><span class="pre">(300,</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">15)</span></code> would set
a limit of 300 requests every 15 minutes. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> to enable Debug Mode, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ERROR</span></code></td>
<td>Allows to customize the error_code field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_error</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">HATEOAS</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">False</span></code>, this option disables
<a class="reference internal" href="features.html#hateoas-feature"><span class="std std-ref">HATEOAS</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ISSUES</span></code></td>
<td>Allows to customize the issues field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_issues</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STATUS</span></code></td>
<td>Allows to customize the status field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_status</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">STATUS_OK</span></code></td>
<td>Status message returned when data validation is
successful. Defaults to <code class="docutils literal notranslate"><span class="pre">OK</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STATUS_ERR</span></code></td>
<td>Status message returned when data validation
failed. Defaults to <code class="docutils literal notranslate"><span class="pre">ERR</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ITEMS</span></code></td>
<td>Allows to customize the items field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_items</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">META</span></code></td>
<td>Allows to customize the meta field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_meta</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">INFO</span></code></td>
<td>String value to include an info section, with the
given INFO name, at the Eve homepage (suggested
value <code class="docutils literal notranslate"><span class="pre">_info</span></code>). The info section will include
Eve server version and API version (API_VERSION,
if set).  <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise, if you do not want
to expose any server info. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">LINKS</span></code></td>
<td>Allows to customize the links field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_links</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ETAG</span></code></td>
<td>Allows to customize the etag field. Defaults
to <code class="docutils literal notranslate"><span class="pre">_etag</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">IF_MATCH</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> to enable concurrency control, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>. See
<a class="reference internal" href="features.html#concurrency"><span class="std std-ref">Data Integrity and Concurrency Control</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ENFORCE_IF_MATCH</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> to always enforce concurrency control when
it is enabled, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Defaults to
<code class="docutils literal notranslate"><span class="pre">True</span></code>. See <a class="reference internal" href="features.html#concurrency"><span class="std std-ref">Data Integrity and Concurrency Control</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">RENDERERS</span></code></td>
<td>Allows to change enabled renderers. Defaults to
<code class="docutils literal notranslate"><span class="pre">['eve.render.JSONRenderer',</span> <span class="pre">'eve.render.XMLRenderer']</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">JSON_SORT_KEYS</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> to enable JSON key sorting, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">JSON_REQUEST_CONTENT_TYPES</span></code></td>
<td>Supported JSON content types. Useful when
you need support for vendor-specific json
types. Please note: responses will still
carry the standard <code class="docutils literal notranslate"><span class="pre">application/json</span></code>
type. Defaults to <code class="docutils literal notranslate"><span class="pre">['application/json']</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VALIDATION_ERROR_STATUS</span></code></td>
<td>The HTTP status code to use for validation errors.
Defaults to <code class="docutils literal notranslate"><span class="pre">422</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VERSIONING</span></code></td>
<td>Enabled documents version control when
<code class="docutils literal notranslate"><span class="pre">True</span></code>. Can be overridden by resource
settings. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VERSIONS</span></code></td>
<td>Suffix added to the name of the primary
collection to create the name of the shadow
collection to store document versions.
Defaults to <code class="docutils literal notranslate"><span class="pre">_versions</span></code>. When
<code class="docutils literal notranslate"><span class="pre">VERSIONING</span></code> is enabled , a collection
such as <code class="docutils literal notranslate"><span class="pre">myresource_versions</span></code> would be
created for a resource with a datasource of
<code class="docutils literal notranslate"><span class="pre">myresource</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VERSION_PARAM</span></code></td>
<td>The URL query parameter used to access the
specific version of a document. Defaults to
<code class="docutils literal notranslate"><span class="pre">version</span></code>. Omit this parameter to get the
latest version of a document or use
<cite>?version=all`</cite> to get a list of all
version of the document. Only valid for
individual item endpoints.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VERSION</span></code></td>
<td>Field used to store the version number of a
document. Defaults to <code class="docutils literal notranslate"><span class="pre">_version</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">LATEST_VERSION</span></code></td>
<td>Field used to store the latest version number
of a document. Defaults to
<code class="docutils literal notranslate"><span class="pre">_latest_version</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VERSION_ID_SUFFIX</span></code></td>
<td>Used in the shadow collection to store the
document id. Defaults to <code class="docutils literal notranslate"><span class="pre">_document</span></code>. If
<code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code> is set to <code class="docutils literal notranslate"><span class="pre">_id</span></code>, the
document id will be stored in field
<code class="docutils literal notranslate"><span class="pre">_id_document</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_URI</span></code></td>
<td>A <a class="reference external" href="http://docs.mongodb.org/manual/reference/connection-string/#Connections-StandardConnectionStringFormat">MongoDB URI</a> which is used in preference
of the other configuration variables.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_HOST</span></code></td>
<td>MongoDB server address. Defaults to <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_PORT</span></code></td>
<td>MongoDB port. Defaults to <code class="docutils literal notranslate"><span class="pre">27017</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_USERNAME</span></code></td>
<td>MongoDB user name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_PASSWORD</span></code></td>
<td>MongoDB password.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_DBNAME</span></code></td>
<td>MongoDB database name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_OPTIONS</span></code></td>
<td>MongoDB keyword arguments to passed to
MongoClient class <code class="docutils literal notranslate"><span class="pre">__init__</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">{'connect':</span> <span class="pre">True,</span> <span class="pre">'tz_aware':</span> <span class="pre">True,</span> <span class="pre">'appname':</span> <span class="pre">'flask_app_name'}</span></code>.
See <a class="reference external" href="http://api.mongodb.com/python/current/api/pymongo/mongo_client.html">PyMongo mongo_client</a> for reference.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_AUTH_SOURCE</span></code></td>
<td>MongoDB authorization database. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_AUTH_MECHANISM</span></code></td>
<td>MongoDB authentication mechanism.
See <a class="reference external" href="https://docs.mongodb.com/v3.0/core/authentication-mechanisms/">PyMongo Authentication Mechanisms</a>.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_AUTH_MECHANISM_PROPERTIES</span></code></td>
<td>Specify MongoDB extra authentication mechanism properties
if required. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MONGO_QUERY_BLACKLIST</span></code></td>
<td><p class="first">A list of Mongo query operators that are not
allowed to be used in resource filters
(<code class="docutils literal notranslate"><span class="pre">?where=</span></code>). Defaults to <code class="docutils literal notranslate"><span class="pre">['$where',</span>
<span class="pre">'$regex']</span></code>.</p>
<p class="last">Mongo JavaScript operators are disabled by
default, as they might be used as vectors
for injection attacks. Javascript queries
also tend to be slow and generally can be
easily replaced with the (very rich) Mongo
query dialect.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MONGO_WRITE_CONCERN</span></code></td>
<td><p class="first">A dictionary defining MongoDB write concern
settings. All standard write concern
settings (w, wtimeout, j, fsync) are
supported. Defaults to <code class="docutils literal notranslate"><span class="pre">{'w':</span> <span class="pre">1}</span></code>, which
means ‘do regular acknowledged writes’
(this is also the Mongo default).</p>
<p>Please be aware that setting ‘w’ to a value of
2 or greater requires replication to be
active or you will be getting 500 errors
(the write will still happen; Mongo will
just be unable to check that it’s being
written to multiple servers).</p>
<p class="last">Can be overridden at endpoint (Mongo
collection) level. See
<code class="docutils literal notranslate"><span class="pre">mongo_write_concern</span></code> below.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DOMAIN</span></code></td>
<td>A dict holding the API domain definition.
See <a class="reference internal" href="#domain-configuration">Domain Configuration</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">EXTENDED_MEDIA_INFO</span></code></td>
<td>A list of properties to forward from the file upload
driver.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">RETURN_MEDIA_AS_BASE64_STRING</span></code></td>
<td>Controls the embedding of the media type in
the endpoint response. This is useful when
you have other means of getting the binary
(like custom Flask endpoints) but still
want clients to be able to POST/PATCH it.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">RETURN_MEDIA_AS_URL</span></code></td>
<td>Set it to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable serving media
files at a dedicated media endpoint.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MEDIA_BASE_URL</span></code></td>
<td>Base URL to be used when
<code class="docutils literal notranslate"><span class="pre">RETURN_MEDIA_AS_URL</span></code> is active. Combined
with <code class="docutils literal notranslate"><span class="pre">MEDIA_ENDPOINT</span></code> and <code class="docutils literal notranslate"><span class="pre">MEDIA_URL</span></code>
dictates the URL returned for media files.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, which is the default value,
the API base address will be used instead.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MEDIA_ENDPOINT</span></code></td>
<td>The media endpoint to be used when
<code class="docutils literal notranslate"><span class="pre">RETURN_MEDIA_AS_URL</span></code> is enabled.
Defaults to <code class="docutils literal notranslate"><span class="pre">media</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MEDIA_URL</span></code></td>
<td>Format of a file url served at the
dedicated media endpoints. Defaults to
<code class="docutils literal notranslate"><span class="pre">regex(&quot;[a-f0-9]{24}&quot;)</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MULTIPART_FORM_FIELDS_AS_JSON</span></code></td>
<td>In case you are submitting your resource as
<code class="docutils literal notranslate"><span class="pre">multipart/form-data</span></code> all form data fields
will be submitted as strings, breaking any
validation rules you might have on the
resource fields. If you want to treat all
submitted form data as JSON strings you will
have to activate this setting. In that case
field validation will continue working
correctly. Read more about how the fields
should be formatted at
<a class="reference internal" href="features.html#multipart"><span class="std std-ref">Note on media files as multipart/form-data</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">AUTO_COLLAPSE_MULTI_KEYS</span></code></td>
<td><p class="first">If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, multiple values sent
with the same key, submitted using the
<code class="docutils literal notranslate"><span class="pre">application/x-www-form-urlencoded</span></code> or
<code class="docutils literal notranslate"><span class="pre">multipart/form-data</span></code> content types,
will automatically be converted to a list of
values.</p>
<p>When using this together with
<code class="docutils literal notranslate"><span class="pre">AUTO_CREATE_LISTS</span></code> it becomes possible
to use lists of media fields.</p>
<p class="last">Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">AUTO_CREATE_LISTS</span></code></td>
<td><p class="first">When submitting a non <code class="docutils literal notranslate"><span class="pre">list</span></code> type value
for a field with type <code class="docutils literal notranslate"><span class="pre">list</span></code>,
automatically create a one element list
before running the validators.</p>
<p class="last">Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">OPLOG</span></code></td>
<td>Set it to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable the <a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_NAME</span></code></td>
<td>This is the name of the database collection
where the <a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a> is stored. Defaults
to <code class="docutils literal notranslate"><span class="pre">oplog</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_METHODS</span></code></td>
<td>List of HTTP methods which operations
should be logged in the <a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a>.
Defaults to <code class="docutils literal notranslate"><span class="pre">['DELETE',</span> <span class="pre">'POST',</span> <span class="pre">'PATCH',</span>
<span class="pre">'PUT']</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_CHANGE_METHODS</span></code></td>
<td>List of HTTP methods which operations
will include changes into the <a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a> entry.
Defaults to <code class="docutils literal notranslate"><span class="pre">['DELETE','PATCH',</span> <span class="pre">'PUT']</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_ENDPOINT</span></code></td>
<td>Name of the <a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a> endpoint. If the
endpoint is enabled it can be configured
like any other API endpoint. Set it to
<code class="docutils literal notranslate"><span class="pre">None</span></code> to disable the endpoint. Defaults
to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_AUDIT</span></code></td>
<td>Set it to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable the audit
feature. When audit is enabled client IP
and document changes are also logged to the
<a class="reference internal" href="features.html#oplog"><span class="std std-ref">Operations Log</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">OPLOG_RETURN_EXTRA_FIELD</span></code></td>
<td>When enabled, the optional <code class="docutils literal notranslate"><span class="pre">extra</span></code> field
will be included in the payload returned by
the <code class="docutils literal notranslate"><span class="pre">OPLOG_ENDPOINT</span></code>. Defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">SCHEMA_ENDPOINT</span></code></td>
<td>Name of the <a class="reference internal" href="features.html#schema-endpoint"><span class="std std-ref">The Schema Endpoint</span></a>. Defaults
to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">HEADER_TOTAL_COUNT</span></code></td>
<td>Custom header containing total count of
items in response payloads for collection
<code class="docutils literal notranslate"><span class="pre">GET</span></code> requests. This is handy for <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>
requests when client wants to know items
count without retrieving response body.
An example use case is to get the count
of unread posts using <code class="docutils literal notranslate"><span class="pre">where</span></code> query without
loading posts themselves. Defaults to
<code class="docutils literal notranslate"><span class="pre">X-Total-Count</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">JSONP_ARGUMENT</span></code></td>
<td>This option will cause the response to be
wrapped in a JavaScript function call if
the argument is set in the request. For
example if you set <code class="docutils literal notranslate"><span class="pre">JSON_ARGUMENT</span>
<span class="pre">=</span> <span class="pre">'callback'</span></code>, then all responses to
<code class="docutils literal notranslate"><span class="pre">?callback=funcname</span></code> requests will be
wrapped in a <code class="docutils literal notranslate"><span class="pre">funcname</span></code> call. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">BULK_ENABLED</span></code></td>
<td>Enables bulk insert when set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
See <a class="reference internal" href="features.html#bulk-insert"><span class="std std-ref">Bulk Inserts</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">SOFT_DELETE</span></code></td>
<td>Enables soft delete when set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
See <a class="reference internal" href="features.html#soft-delete"><span class="std std-ref">Soft Delete</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DELETED</span></code></td>
<td>Field name used to indicate if a document
has been deleted when <code class="docutils literal notranslate"><span class="pre">SOFT_DELETE</span></code>
is enabled. Defaults to <code class="docutils literal notranslate"><span class="pre">_deleted</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">SHOW_DELETED_PARAM</span></code></td>
<td>The URL query parameter used to include
soft deleted items in resource level GET
responses. Defaults to ‘show_deleted’.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_ERRORS</span></code></td>
<td>This is a list of HTTP error codes for
which a standard API response will be
provided. Canonical error response includes
a JSON body with actual error code and
description. Set this to an empty list if
you want to disable canonical responses
altogether. Defaults to <code class="docutils literal notranslate"><span class="pre">[400,</span> <span class="pre">401,</span> <span class="pre">403,</span>
<span class="pre">404,</span> <span class="pre">405,</span> <span class="pre">406,</span> <span class="pre">409,</span> <span class="pre">410,</span> <span class="pre">412,</span> <span class="pre">422,</span> <span class="pre">428]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VALIDATION_ERROR_AS_STRING</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code> even single field errors will
be returned in a list. By default single
field errors are returned as strings while
multiple field errors are bundled in a
list. If you want to standardize the field
errors output, set this setting to <code class="docutils literal notranslate"><span class="pre">True</span></code>
and you will always get a list of field
issues. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">UPSERT_ON_PUT</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">PUT</span></code> attempts to create a document if it
does not exist. The URL endpoint will be
used as <code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code> value (if <code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code>
is included with the payload, it will be
ignored). Normal validation rules apply.
The response will be a <code class="docutils literal notranslate"><span class="pre">201</span> <span class="pre">Created</span></code> on
successful creation. Response payload will
be identical the one you would get by
performing a single document POST to the
resource endpoint. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to
disable this feature, and a <code class="docutils literal notranslate"><span class="pre">404</span></code> will be
returned instead. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MERGE_NESTED_DOCUMENTS</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, updates to nested fields are
merged with the current data on <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the updates overwrite the
current data. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">NORMALIZE_DOTTED_FIELDS</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, dotted fields are parsed
and processed as subdocument fields. If
<code class="docutils literal notranslate"><span class="pre">False</span></code>, dotted fields are left unparsed
and unprocessed, and the payload is passed
to the underlying data-layer as-is. Please
note that with the default Mongo layer,
setting this to <code class="docutils literal notranslate"><span class="pre">False</span></code> will result in an
error. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">NORMALIZE_ON_PATCH</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the patch document will be
normalized according to schema. This means
if a field is not included in the patch
body, it will be reset to the default value
in its schema. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the field which
is not included in the patch body will be
kept untouched. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="domain-configuration">
<span id="domain"></span><h2>Domain Configuration<a class="headerlink" href="#domain-configuration" title="Permalink to this headline">¶</a></h2>
<p>In Eve terminology, a <cite>domain</cite> is the definition of the API structure, the area
where you design your API, fine-tune resources endpoints, and define validation
rules.</p>
<p><code class="docutils literal notranslate"><span class="pre">DOMAIN</span></code> is a <a class="reference internal" href="#global"><span class="std std-ref">global configuration setting</span></a>: a Python
dictionary where keys are API resources and values their definitions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Here we define two API endpoints, &#39;people&#39; and &#39;works&#39;, leaving their</span>
<span class="c1"># definitions empty.</span>
<span class="n">DOMAIN</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;people&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;works&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>In the following two sections, we will customize the <cite>people</cite> resource.</p>
<div class="section" id="resource-item-endpoints">
<span id="local"></span><h3>Resource / Item Endpoints<a class="headerlink" href="#resource-item-endpoints" title="Permalink to this headline">¶</a></h3>
<p>Endpoint customization is mostly done by overriding some <a class="reference internal" href="#global"><span class="std std-ref">global settings</span></a>, but other unique settings are also available. Resource settings are
always lowercase.</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">url</span></code></td>
<td><p class="first">The endpoint URL. If omitted the resource key
of the <code class="docutils literal notranslate"><span class="pre">DOMAIN</span></code> dict will be used to build
the URL. As an example, <code class="docutils literal notranslate"><span class="pre">contacts</span></code> would make
the <cite>people</cite> resource available at
<code class="docutils literal notranslate"><span class="pre">/contacts</span></code> (instead of <code class="docutils literal notranslate"><span class="pre">/people</span></code>). URL can
be as complex as needed and can be nested
relative to another API endpoint (you can have
a <code class="docutils literal notranslate"><span class="pre">/contacts</span></code> endpoint and then
a <code class="docutils literal notranslate"><span class="pre">/contacts/overseas</span></code> endpoint. Both are
independent of each other and freely
configurable).</p>
<p class="last">You can also use regexes to setup
subresource-like endpoints. See
<a class="reference internal" href="features.html#subresources"><span class="std std-ref">Sub Resources</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allowed_filters</span></code></td>
<td><p class="first">List of fields on which filtering is allowed.
Entries in this list work in a hierarchical
way. This means that, for instance, filtering
on <code class="docutils literal notranslate"><span class="pre">'dict.sub_dict.foo'</span></code> is allowed if
<code class="docutils literal notranslate"><span class="pre">allowed_filters</span></code> contains any of
<code class="docutils literal notranslate"><span class="pre">'dict.sub_dict.foo</span></code>, <code class="docutils literal notranslate"><span class="pre">'dict.sub_dict'</span></code>
or <code class="docutils literal notranslate"><span class="pre">'dict'</span></code>. Instead filtering on
<code class="docutils literal notranslate"><span class="pre">'dict'</span></code> is allowed if <code class="docutils literal notranslate"><span class="pre">allowed_filters</span></code>
contains <code class="docutils literal notranslate"><span class="pre">'dict'</span></code>.
Can be set to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (no filters allowed), or
<code class="docutils literal notranslate"><span class="pre">['*']</span></code> (fields allowed on every field).
Defaults to <code class="docutils literal notranslate"><span class="pre">['*']</span></code>.</p>
<p class="last"><em>Please note:</em> If API scraping or DB DoS
attacks are a concern, then globally disabling
filters (see <code class="docutils literal notranslate"><span class="pre">ALLOWED_FILTERS</span></code> above) and
then whitelisting valid ones at the local level
is the way to go.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">sorting</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if sorting is enabled, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise. Locally overrides <code class="docutils literal notranslate"><span class="pre">SORTING</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pagination</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if pagination is enabled, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise. Locally overrides <code class="docutils literal notranslate"><span class="pre">PAGINATION</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">resource_methods</span></code></td>
<td><p class="first">A list of HTTP methods supported at resource
endpoint. Allowed values: <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>,
<code class="docutils literal notranslate"><span class="pre">DELETE</span></code>. Locally overrides
<code class="docutils literal notranslate"><span class="pre">RESOURCE_METHODS</span></code>.</p>
<p class="last"><em>Please note:</em> if you’re running version 0.0.5
or earlier use the now unsupported <code class="docutils literal notranslate"><span class="pre">methods</span></code>
keyword instead.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">public_methods</span></code></td>
<td>A list of HTTP methods supported at resource
endpoint, open to public access even when
<a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> is enabled. Locally overrides
<code class="docutils literal notranslate"><span class="pre">PUBLIC_METHODS</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">item_methods</span></code></td>
<td>A list of HTTP methods supported at item
endpoint. Allowed values: <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>,
<code class="docutils literal notranslate"><span class="pre">PUT</span></code> and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>. <code class="docutils literal notranslate"><span class="pre">PATCH</span></code> or, for
clients not supporting PATCH, <code class="docutils literal notranslate"><span class="pre">POST</span></code> with
the <code class="docutils literal notranslate"><span class="pre">X-HTTP-Method-Override</span></code> header tag.
Locally overrides <code class="docutils literal notranslate"><span class="pre">ITEM_METHODS</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">public_item_methods</span></code></td>
<td>A list of HTTP methods supported at item
endpoint, left open to public access when
<a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> is enabled. Locally overrides
<code class="docutils literal notranslate"><span class="pre">PUBLIC_ITEM_METHODS</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">allowed_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoint. See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ALLOWED_ROLES</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allowed_read_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoint with GET and OPTIONS methods.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ALLOWED_READ_ROLES</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">allowed_write_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for resource
endpoint with POST, PUT and DELETE.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more
information. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ALLOWED_WRITE_ROLES</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allowed_item_read_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoint
with GET and OPTIONS methods.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information.
Locally overrides <code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_READ_ROLES</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">allowed_item_write_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoint
with PUT, PATH and DELETE methods.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information.
Locally overrides <code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_WRITE_ROLES</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allowed_item_roles</span></code></td>
<td>A list of allowed <cite>roles</cite> for item endpoint.
See <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> for more information.
Locally overrides <code class="docutils literal notranslate"><span class="pre">ALLOWED_ITEM_ROLES</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">cache_control</span></code></td>
<td>Value of the <code class="docutils literal notranslate"><span class="pre">Cache-Control</span></code> header field
used when serving <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests. Leave empty
if you don’t want to include cache directives
with API responses. Locally overrides
<code class="docutils literal notranslate"><span class="pre">CACHE_CONTROL</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">cache_expires</span></code></td>
<td>Value (in seconds) of the <code class="docutils literal notranslate"><span class="pre">Expires</span></code> header
field used when serving <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests. If
set to a non-zero value, the header will
always be included, regardless of the setting
of <code class="docutils literal notranslate"><span class="pre">CACHE_CONTROL</span></code>. Locally overrides
<code class="docutils literal notranslate"><span class="pre">CACHE_EXPIRES</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">id_field</span></code></td>
<td>Field used to uniquely identify resource items
within the database. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">item_lookup</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">True</span></code> if item endpoint should be available,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ITEM_LOOKUP</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">item_lookup_field</span></code></td>
<td>Field used when looking up a resource
item. Locally overrides <code class="docutils literal notranslate"><span class="pre">ITEM_LOOKUP_FIELD</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">item_url</span></code></td>
<td>Rule used to construct item endpoint URL.
Locally overrides <code class="docutils literal notranslate"><span class="pre">ITEM_URL</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">resource_title</span></code></td>
<td>Title used when building resource links
(HATEOAS). Defaults to resource’s <code class="docutils literal notranslate"><span class="pre">url</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">item_title</span></code></td>
<td>Title to be used when building item references,
both in XML and JSON responses. Overrides
<code class="docutils literal notranslate"><span class="pre">ITEM_TITLE</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">additional_lookup</span></code></td>
<td>Besides the standard item endpoint which
defaults to <code class="docutils literal notranslate"><span class="pre">/&lt;resource&gt;/&lt;ID_FIELD_value&gt;</span></code>,
you can optionally define a secondary,
read-only, endpoint like
<code class="docutils literal notranslate"><span class="pre">/&lt;resource&gt;/&lt;person_name&gt;</span></code>. You do so by
defining a dictionary comprised of two items
<cite>field</cite> and <cite>url</cite>. The former is the name of
the field used for the lookup. If the field
type (as defined in the resource <a class="reference internal" href="#schema">schema</a>) is
a string, then you put a URL rule in <cite>url</cite>.  If
it is an integer, then you just omit <cite>url</cite>, as
it is automatically handled.  See the code
snippet below for an usage example of this
feature.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">datasource</span></code></td>
<td>Explicitly links API resources to database
collections. See <a class="reference internal" href="#advanced-datasource-patterns">Advanced Datasource
Patterns</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">auth_field</span></code></td>
<td>Enables <a class="reference internal" href="authentication.html#user-restricted"><span class="std std-ref">User-Restricted Resource Access</span></a>. When the
feature is enabled, users can only
read/update/delete resource items created by
themselves. The keyword contains the actual
name of the field used to store the id of
the user who created the resource item. Locally
overrides <code class="docutils literal notranslate"><span class="pre">AUTH_FIELD</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allow_unknown</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option will allow insertion
of arbitrary, unknown fields to the endpoint.
Use with caution. Locally overrides
<code class="docutils literal notranslate"><span class="pre">ALLOW_UNKNOWN</span></code>. See <a class="reference internal" href="validation.html#unknown"><span class="std std-ref">Allowing the Unknown</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">projection</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option enables the
<a class="reference internal" href="features.html#projections"><span class="std std-ref">Projections</span></a> feature. Locally overrides
<code class="docutils literal notranslate"><span class="pre">PROJECTION</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">embedding</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code> this option enables the
<a class="reference internal" href="features.html#embedded-docs"><span class="std std-ref">Embedded Resource Serialization</span></a> feature. Defaults to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">extra_response_fields</span></code></td>
<td>Allows to configure a list of additional
document fields that should be provided with
every POST response. Normally only
automatically handled fields (<code class="docutils literal notranslate"><span class="pre">ID_FIELD</span></code>,
<code class="docutils literal notranslate"><span class="pre">LAST_UPDATED</span></code>, <code class="docutils literal notranslate"><span class="pre">DATE_CREATED</span></code>, <code class="docutils literal notranslate"><span class="pre">ETAG</span></code>)
are included in response payloads. Overrides
<code class="docutils literal notranslate"><span class="pre">EXTRA_RESPONSE_FIELDS</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">hateoas</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">False</span></code>, this option disables
<a class="reference internal" href="features.html#hateoas-feature"><span class="std std-ref">HATEOAS</span></a> for the resource.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">mongo_write_concern</span></code></td>
<td><p class="first">A dictionary defining MongoDB write concern
settings for the endpoint datasource. All
standard write concern settings (w, wtimeout, j,
fsync) are supported. Defaults to <code class="docutils literal notranslate"><span class="pre">{'w':</span> <span class="pre">1}</span></code>
which means ‘do regular acknowledged writes’
(this is also the Mongo default.)</p>
<p class="last">Please be aware that setting ‘w’ to a value of
2 or greater requires replication to be active
or you will be getting 500 errors (the write
will still happen; Mongo will just be unable
to check that it’s being written to multiple
servers.)</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">mongo_prefix</span></code></td>
<td><p class="first">Allows overriding of the default <code class="docutils literal notranslate"><span class="pre">MONGO</span></code>
prefix, which is used when retrieving MongoDB
settings from configuration.</p>
<p>For example if <code class="docutils literal notranslate"><span class="pre">mongo_prefix</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">MONGO2</span></code> then, when serving requests for the
endpoint, <code class="docutils literal notranslate"><span class="pre">MONGO2</span></code> prefixed settings will
be used to access the database.</p>
<p>This allows for eventually serving data from
a different database/server at every endpoint.</p>
<p class="last">See also: <a class="reference internal" href="authentication.html#authdrivendb"><span class="std std-ref">Auth-driven Database Access</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">mongo_indexes</span></code></td>
<td><p class="first">Allows to specify a set of indexes to be
created for this resource before the app is
launched.</p>
<p>Indexes are expressed as a dict where keys are
index names and values are either a list of
tuples of (field, direction) pairs, or
a tuple with a list of field/direction pairs
<em>and</em> index options expressed as a dict, such
as <code class="docutils literal notranslate"><span class="pre">{'index</span> <span class="pre">name':</span> <span class="pre">[('field',</span> <span class="pre">1)],</span> <span class="pre">'index</span> <span class="pre">with</span>
<span class="pre">args':</span> <span class="pre">([('field',</span> <span class="pre">1)],</span> <span class="pre">{&quot;sparse&quot;:</span> <span class="pre">True})}</span></code>.</p>
<p>Multiple pairs are used to create compound
indexes. Direction takes all kind of values
supported by PyMongo, such as <code class="docutils literal notranslate"><span class="pre">ASCENDING</span></code>
= 1 and <code class="docutils literal notranslate"><span class="pre">DESCENDING</span></code> = -1. All index options
such as <code class="docutils literal notranslate"><span class="pre">sparse</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>,
etc. are supported (see <a class="reference external" href="http://api.mongodb.org/python/current/api/pymongo/collection.html#pymongo.collection.Collection.create_index">PyMongo</a> documentation.)</p>
<p class="last"><em>Please note:</em> keep in mind that index design,
creation and maintenance is a very important
task and should be planned and executed with
great care. Usually it is also a very resource
intensive operation. You might therefore want
to handle this task manually, out of the
context of API instantiation. Also remember
that, by default, any already existent index
for which the definition has been changed, will
be dropped and re-created.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">authentication</span></code></td>
<td>A class with the authorization logic for the
endpoint. If not provided the eventual
general purpose auth class (passed as
application constructor argument) will be used.
For details on authentication and authorization
see <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a>.  Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>,</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">embedded_fields</span></code></td>
<td>A list of fields for which <a class="reference internal" href="features.html#embedded-docs"><span class="std std-ref">Embedded Resource Serialization</span></a>
is enabled by default. For this feature to work
properly fields in the list must be
<code class="docutils literal notranslate"><span class="pre">embeddable</span></code>, and <code class="docutils literal notranslate"><span class="pre">embedding</span></code> must be
active for the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">query_objectid_as_string</span></code></td>
<td>When enabled the Mongo parser will avoid
automatically casting electable strings to
ObjectIds. This can be useful in those rare
occurrences where you have string fields in the
database whose values can actually be casted to
ObjectId values, but shouldn’t. It effects
queries (<code class="docutils literal notranslate"><span class="pre">?where=</span></code>) and parsing of payloads.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">internal_resource</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, this option makes the resource
internal. No HTTP action can be performed on
the endpoint, which is still accessible from
the Eve data layer. See
<a class="reference internal" href="features.html#internal-resources"><span class="std std-ref">Internal Resources</span></a> for more
information. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">etag_ignore_fields</span></code></td>
<td>List of fields that
should not be used to compute the ETag value.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> which means that by
default all fields are included in the computation.
It looks like <code class="docutils literal notranslate"><span class="pre">['field1',</span> <span class="pre">'field2',</span>
<span class="pre">'field3.nested_field',</span> <span class="pre">...]</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">schema</span></code></td>
<td>A dict defining the actual data structure being
handled by the resource. Enables data
validation. See <a class="reference internal" href="#schema-definition">Schema Definition</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">bulk_enabled</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code> this option enables the
<a class="reference internal" href="features.html#bulk-insert"><span class="std std-ref">Bulk Inserts</span></a> feature for this resource.
Locally overrides <code class="docutils literal notranslate"><span class="pre">BULK_ENABLED</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">soft_delete</span></code></td>
<td>When <code class="docutils literal notranslate"><span class="pre">True</span></code> this option enables the
<a class="reference internal" href="features.html#soft-delete"><span class="std std-ref">Soft Delete</span></a> feature for this resource.
Locally overrides <code class="docutils literal notranslate"><span class="pre">SOFT_DELETE</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">merge_nested_documents</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, updates to nested fields are
merged with the current data on <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the updates overwrite the
current data. Locally overrides
<code class="docutils literal notranslate"><span class="pre">MERGE_NESTED_DOCUMENTS</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">normalize_dotted_fields</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, dotted fields are parsed and
processed as subdocument fields. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
dotted fields are left unparsed and
unprocessed, and the payload is passed to the
underlying data-layer as-is. Please note that
with the default Mongo layer, setting this to
<code class="docutils literal notranslate"><span class="pre">False</span></code> will result in an error. Defaults to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">normalize_on_patch</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the patch document will be
normalized according to schema. This means if
a field is not included in the patch body, it
will be reset to the default value in its
schema. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the field which is not
included in the patch body will be kept
untouched. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
</tbody>
</table>
<p>Here’s an example of resource customization, mostly done by overriding global
API settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># &#39;title&#39; tag used in item links. Defaults to the resource title minus</span>
    <span class="c1"># the final, plural &#39;s&#39; (works fine in most cases but not for &#39;people&#39;)</span>
    <span class="s1">&#39;item_title&#39;</span><span class="p">:</span> <span class="s1">&#39;person&#39;</span><span class="p">,</span>

    <span class="c1"># by default, the standard item entry point is defined as</span>
    <span class="c1"># &#39;/people/&lt;ObjectId&gt;/&#39;. We leave it untouched, and we also enable an</span>
    <span class="c1"># additional read-only entry point. This way consumers can also perform</span>
    <span class="c1"># GET requests at &#39;/people/&lt;lastname&gt;&#39;.</span>
    <span class="s1">&#39;additional_lookup&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;regex(&quot;[\w]+&quot;)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span><span class="p">:</span> <span class="s1">&#39;lastname&#39;</span>
    <span class="p">},</span>

    <span class="c1"># We choose to override global cache-control directives for this resource.</span>
    <span class="s1">&#39;cache_control&#39;</span><span class="p">:</span> <span class="s1">&#39;max-age=10,must-revalidate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cache_expires&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>

    <span class="c1"># we only allow GET and POST at this resource endpoint.</span>
    <span class="s1">&#39;resource_methods&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="schema-definition">
<span id="schema"></span><h2>Schema Definition<a class="headerlink" href="#schema-definition" title="Permalink to this headline">¶</a></h2>
<p>Unless your API is read-only, you probably want to define resource <cite>schemas</cite>.
Schemas are important because they enable proper validation for incoming
streams.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># &#39;people&#39; schema definition</span>
<span class="n">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;firstname&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minlength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;maxlength&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;lastname&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minlength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;maxlength&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;unique&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># &#39;role&#39; is a list, and can only contain values from &#39;allowed&#39;.</span>
    <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span>
        <span class="s1">&#39;allowed&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="s2">&quot;contributor&quot;</span><span class="p">,</span> <span class="s2">&quot;copy&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="c1"># An embedded &#39;strongly-typed&#39; dictionary.</span>
    <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;dict&#39;</span><span class="p">,</span>
        <span class="s1">&#39;schema&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
            <span class="s1">&#39;city&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s1">&#39;born&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see, schema keys are the actual field names, while values are dicts
defining the field validation rules. Allowed validation rules are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">type</span></code></td>
<td><p class="first">Field data type. Can be one of the following:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">string</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">boolean</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">integer</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">float</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">number</span></code> (integer and float values allowed)</li>
<li><code class="docutils literal notranslate"><span class="pre">datetime</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">dict</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">list</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">media</span></code></li>
</ul>
<p>If the MongoDB data layer is used then
<code class="docutils literal notranslate"><span class="pre">objectid</span></code>, <code class="docutils literal notranslate"><span class="pre">dbref</span></code> and geographic data
structures are also allowed:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">objectid</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">dbref</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">point</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">multipoint</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">linestring</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">multilinestring</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">polygon</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">multipolygon</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">geometrycollection</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">decimal</span></code></li>
</ul>
<p class="last">See <a class="reference internal" href="features.html#geojson-feature"><span class="std std-ref">GeoJSON</span></a> for more
information geo fields.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">required</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the field is mandatory on
insertion.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">readonly</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the field is readonly.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">minlength</span></code>, <code class="docutils literal notranslate"><span class="pre">maxlength</span></code></td>
<td>Minimum and maximum length allowed for
<code class="docutils literal notranslate"><span class="pre">string</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code> types.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code></td>
<td>Minimum and maximum values allowed for
<code class="docutils literal notranslate"><span class="pre">integer</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code> and <code class="docutils literal notranslate"><span class="pre">number</span></code> types.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">allowed</span></code></td>
<td>List of allowed values for <code class="docutils literal notranslate"><span class="pre">string</span></code> and
<code class="docutils literal notranslate"><span class="pre">list</span></code> types.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">empty</span></code></td>
<td>Only applies to string fields. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
validation will fail if the value is empty.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">items</span></code></td>
<td>Defines a list of values allowed in a <code class="docutils literal notranslate"><span class="pre">list</span></code>
of fixed length, see <a class="reference external" href="http://docs.python-cerberus.org/en/latest/usage.html#items-list">docs</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">schema</span></code></td>
<td>Validation schema for <code class="docutils literal notranslate"><span class="pre">dict</span></code> types and
arbitrary length <code class="docutils literal notranslate"><span class="pre">list</span></code> types. For details
and usage examples, see <a class="reference external" href="http://docs.python-cerberus.org/en/latest/usage.html#schema-dict">Cerberus documentation</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">unique</span></code></td>
<td><p class="first">The value of the field must be unique within
the collection.</p>
<p>Please note: validation constraints are checked
against the database, and not between the
payload documents themselves. This causes an
interesting corner case: in the event of
a multiple documents payload where two or more
documents carry the same value for a field
where the ‘unique’ constraint is set, the
payload will validate successfully, as there
are no duplicates in the database (yet).</p>
<p class="last">If this is an issue, the client can always send
the documents one at a time for insertion, or
validate locally before submitting the payload
to the API.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">unique_to_user</span></code></td>
<td><p class="first">The field value is unique to the user. This is
useful when <a class="reference internal" href="authentication.html#user-restricted"><span class="std std-ref">User-Restricted Resource Access</span></a> is
enabled on an endpoint. The rule will be
validated against <em>user data only</em>. So in this
scenario duplicates are allowed as long as they
are stored by different users. Conversely,
a single user cannot store duplicate values.</p>
<p class="last">If URRA is not active on the endpoint, this
rule behaves like <code class="docutils literal notranslate"><span class="pre">unique</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">unique_within_resource</span></code></td>
<td><p class="first">The value of the field must be unique within
the resource.</p>
<p class="last">This differs from the <code class="docutils literal notranslate"><span class="pre">unique</span></code> rule in that
it will use the datasource filter when searching
for documents with the same value for the field.
Use this when the resource shares the database
collection with other resources but their documents
should not be taken into account when evaluating
the uniqueness of the field.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data_relation</span></code></td>
<td><p class="first">Allows to specify a referential integrity rule
that the value must satisfy in order to
validate. It is a dict with four keys:</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">resource</span></code>: the name of the resource being referenced;</li>
<li><code class="docutils literal notranslate"><span class="pre">field</span></code>: the field name in the foreign resource;</li>
<li><code class="docutils literal notranslate"><span class="pre">embeddable</span></code>: set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if clients can
request the referenced document to be embedded
with the serialization. See <a class="reference internal" href="features.html#embedded-docs"><span class="std std-ref">Embedded Resource Serialization</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">version</span></code>: set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to require a
<code class="docutils literal notranslate"><span class="pre">_version</span></code> with the data relation. See <a class="reference internal" href="features.html#document-versioning"><span class="std std-ref">Document Versioning</span></a>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nullable</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the field value can be set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">default</span></code></td>
<td><p class="first">The default value for the field. When serving
POST and PUT requests, missing fields will be
assigned the configured default values.</p>
<p>It works also for types <code class="docutils literal notranslate"><span class="pre">dict</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code>.
The latter is restricted and works only for
lists with schemas (list with a random number
of elements and each element being a <code class="docutils literal notranslate"><span class="pre">dict</span></code>)</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1"># Simple default</span>
  <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;M.&#39;</span>
  <span class="p">},</span>
  <span class="c1"># Default in a dict</span>
  <span class="s1">&#39;others&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;dict&#39;</span><span class="p">,</span>
    <span class="s1">&#39;schema&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">100</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="c1"># Default in a list of dicts</span>
  <span class="s1">&#39;mylist&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span>
    <span class="s1">&#39;schema&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;dict&#39;</span><span class="p">,</span>
      <span class="s1">&#39;schema&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
        <span class="s1">&#39;customer&#39;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span>
          <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">versioning</span></code></td>
<td>Enabled documents version control when <code class="docutils literal notranslate"><span class="pre">True</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">versioned</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, this field will be included in the
versioned history of each document when
<code class="docutils literal notranslate"><span class="pre">versioning</span></code> is enabled. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">valueschema</span></code></td>
<td>Validation schema for all values of a <code class="docutils literal notranslate"><span class="pre">dict</span></code>.
The dict can have arbitrary keys, the values
for all of which must validate with given
schema. See <a class="reference external" href="http://docs.python-cerberus.org/en/latest/validation-rules.html#valueschema">valueschema</a> in Cerberus docs.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">keyschema</span></code></td>
<td>This is the counterpart to <code class="docutils literal notranslate"><span class="pre">valueschema</span></code> that
validates the keys of a dict.   Validation
schema for all values of a <code class="docutils literal notranslate"><span class="pre">dict</span></code>. See
<a class="reference external" href="http://docs.python-cerberus.org/en/latest/validation-rules.html#keyschema">keyschema</a> in Cerberus docs.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">regex</span></code></td>
<td>Validation will fail if field value does not
match the provided regex rule. Only applies to
string fields. See <a class="reference external" href="http://docs.python-cerberus.org/en/latest/validation-rules.html#regex">regex</a> in Cerberus docs.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">dependencies</span></code></td>
<td>This rule allows a list of fields that must be
present in order for the target field to be
allowed. See <a class="reference external" href="http://docs.python-cerberus.org/en/latest/validation-rules.html#dependencies">dependencies</a>  in Cerberus docs.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">anyof</span></code></td>
<td>This rule allows you to list multiple sets of
rules to validate against. The field will be
considered valid if it validates against one
set in the list. See <a class="reference external" href="http://docs.python-cerberus.org/en/latest/validation-rules.html#of-rules">*of-rules</a> in Cerberus docs.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">allof</span></code></td>
<td>Same as <code class="docutils literal notranslate"><span class="pre">anyof</span></code>, except that all rule
collections in the list must validate.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">noneof</span></code></td>
<td>Same as <code class="docutils literal notranslate"><span class="pre">anyof</span></code>, except that it requires no
rule collections in the list to validate.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">oneof</span></code></td>
<td>Same as <code class="docutils literal notranslate"><span class="pre">anyof</span></code>, except that only one rule
collections in the list can validate.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">coerce</span></code></td>
<td>Type coercion allows you to apply a callable to
a value before any other validators run. The
return value of the callable replaces the new
value in the document. This can be used to
convert values or sanitize data before it is
validated. See <a class="reference external" href="http://docs.python-cerberus.org/en/latest/normalization-rules.html#value-coercion">value coercion</a> in Cerberus docs.</td>
</tr>
</tbody>
</table>
<p>Schema syntax is based on <a class="reference external" href="http://python-cerberus.org">Cerberus</a> and yes, it can be extended.  In fact, Eve
itself extends the original grammar by adding the <code class="docutils literal notranslate"><span class="pre">unique</span></code> and
<code class="docutils literal notranslate"><span class="pre">data_relation</span></code> keywords, along with the <code class="docutils literal notranslate"><span class="pre">objectid</span></code> datatype. For more
information on custom validation and usage examples see <a class="reference internal" href="validation.html#validation"><span class="std std-ref">Data Validation</span></a>.</p>
<p>In <a class="reference internal" href="#local"><span class="std std-ref">Resource / Item Endpoints</span></a> you customized the <cite>people</cite> endpoint. Then, in this section,
you defined <cite>people</cite> validation rules. Now you are ready to update the domain
which was originally set up in <a class="reference internal" href="#domain-configuration">Domain Configuration</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># add the schema to the &#39;people&#39; resource definition</span>
<span class="n">people</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
<span class="c1"># update the domain</span>
<span class="n">DOMAIN</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">people</span>
</pre></div>
</div>
</div>
<div class="section" id="advanced-datasource-patterns">
<span id="datasource"></span><h2>Advanced Datasource Patterns<a class="headerlink" href="#advanced-datasource-patterns" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">datasource</span></code> keyword allows to explicitly link API resources to database
collections. If omitted, the domain resource key is assumed to also be the name
of the database collection. It is a dictionary with four allowed keys:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">source</span></code></td>
<td>Name of the database collection consumed by the
resource.  If omitted, the resource name is
assumed to also be a valid collection name. See
<a class="reference internal" href="#source"><span class="std std-ref">Multiple API Endpoints, One Datasource</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">filter</span></code></td>
<td>Database query used to retrieve and validate
data. If omitted, by default the whole
collection is retrieved. See <a class="reference internal" href="#filter"><span class="std std-ref">Predefined Database Filters</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">projection</span></code></td>
<td>Fieldset exposed by the endpoint. If omitted,
by default all fields will be returned to the
client. See <a class="reference internal" href="#projection"><span class="std std-ref">Limiting the Fieldset Exposed by the API Endpoint</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">default_sort</span></code></td>
<td><p class="first">Default sorting for documents retrieved at the
endpoint. If omitted, documents will be
returned with the default database order.
A valid statement would be:</p>
<p><code class="docutils literal notranslate"><span class="pre">'datasource':</span> <span class="pre">{'default_sort':</span> <span class="pre">[('name',</span>
<span class="pre">1)]}</span></code></p>
<p class="last">For more information on sort and filters see
<a class="reference internal" href="features.html#filters"><span class="std std-ref">Filtering</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">aggregation</span></code></td>
<td><p class="first">Aggregation pipeline and options. When used all
other <code class="docutils literal notranslate"><span class="pre">datasource</span></code> settings are ignored,
except <code class="docutils literal notranslate"><span class="pre">source</span></code>. The endpoint will be
read-only and no item lookup will be available.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This is a dictionary with one or more of the
following keys:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">pipeline</span></code>. The aggregation pipeline.
Syntax must match the one supported by
PyMongo. For more information see <a class="reference external" href="http://api.mongodb.org/python/current/examples/aggregation.html#aggregation-framework">PyMongo
Aggregation Examples</a> and the official
<a class="reference external" href="https://docs.mongodb.org/v3.0/applications/aggregation/">MongoDB Aggregation Framework</a>
documentation.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">options</span></code>. Aggregation options. Must be
a dictionary with one or more of these keys:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">allowDiskUse</span></code> (bool)</li>
<li><code class="docutils literal notranslate"><span class="pre">maxTimeMS</span></code> (int)</li>
<li><code class="docutils literal notranslate"><span class="pre">batchSize</span></code> (int)</li>
<li><code class="docutils literal notranslate"><span class="pre">useCursor</span></code> (bool)</li>
</ul>
</div></blockquote>
</li>
</ul>
<p class="last">You only need to set <code class="docutils literal notranslate"><span class="pre">options</span></code> if you want to
change any of <a class="reference external" href="http://api.mongodb.org/python/current/api/pymongo/collection.html#pymongo.collection.Collection.aggregate">PyMongo aggregation defaults</a>.</p>
</td>
</tr>
</tbody>
</table>
<div class="section" id="predefined-database-filters">
<span id="filter"></span><h3>Predefined Database Filters<a class="headerlink" href="#predefined-database-filters" title="Permalink to this headline">¶</a></h3>
<p>Database filters for the API endpoint are set with the <code class="docutils literal notranslate"><span class="pre">filter</span></code> keyword.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;datasource&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;$exists&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>In the example above, the API endpoint for the <cite>people</cite> resource will only
expose and update documents with an existing <cite>username</cite> field.</p>
<p>Predefined filters run on top of user queries (GET requests with <cite>where</cite>
clauses) and standard conditional requests (<cite>If-Modified-Since</cite>, etc.)</p>
<p>Please note that datasource filters are applied on GET, PATCH and DELETE
requests. If your resource allows POST requests (document insertions),
then you will probably want to set the validation rules accordingly (in our
example, ‘username’ should probably be a required field).</p>
<div class="admonition-static-vs-dynamic-filters admonition">
<p class="first admonition-title">Static vs Dynamic filters</p>
<p class="last">Predefined filters are static. You can also exploit the <a class="reference internal" href="features.html#eventhooks"><span class="std std-ref">Event Hooks</span></a>
system (specifically, <code class="docutils literal notranslate"><span class="pre">on_pre_&lt;METHOD&gt;</span></code> hooks) to set up dynamic filters
instead.</p>
</div>
</div>
<div class="section" id="multiple-api-endpoints-one-datasource">
<span id="source"></span><h3>Multiple API Endpoints, One Datasource<a class="headerlink" href="#multiple-api-endpoints-one-datasource" title="Permalink to this headline">¶</a></h3>
<p>Multiple API endpoints can target the same database collection. For
example you can set both <code class="docutils literal notranslate"><span class="pre">/admins</span></code> and <code class="docutils literal notranslate"><span class="pre">/users</span></code> to read and write from
the same <cite>people</cite> collection on the database.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;datasource&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;people&#39;</span><span class="p">,</span>
        <span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;userlevel&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>The above setting will retrieve, edit and delete only documents from the
<cite>people</cite> collection with a <cite>userlevel</cite> of 1.</p>
</div>
<div class="section" id="limiting-the-fieldset-exposed-by-the-api-endpoint">
<span id="projection"></span><h3>Limiting the Fieldset Exposed by the API Endpoint<a class="headerlink" href="#limiting-the-fieldset-exposed-by-the-api-endpoint" title="Permalink to this headline">¶</a></h3>
<p>By default API responses to GET requests will include all fields defined by the
corresponding resource <a class="reference internal" href="#schema">schema</a>. The <code class="docutils literal notranslate"><span class="pre">projection</span></code> setting of the <cite>datasource</cite>
resource keyword allows you to redefine the fieldset.</p>
<p>When you want to hide some <em>secret fields</em> from client, you should use
inclusive projection setting and include all fields should be exposed. While,
when you want to limit default responses to certain fields but still allow them
to be accessible through client-side projections, you should use exclusive
projection setting and exclude fields should be omitted.</p>
<p>The following is an example for inclusive projection setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;datasource&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;projection&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>The above setting will expose only the <cite>username</cite> field to GET requests, no
matter the <a class="reference internal" href="#schema">schema</a> defined for the resource. And other fields <strong>will not</strong> be
exposed even by client-side projection. The following API call will not return
<cite>lastname</cite> or <cite>born</cite>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -i http://eve-demo.herokuapp.com/people?projection<span class="o">={</span><span class="s2">&quot;lastname&quot;</span>: <span class="m">1</span>, <span class="s2">&quot;born&quot;</span>: <span class="m">1</span><span class="o">}</span>
<span class="go">HTTP/1.1 200 OK</span>
</pre></div>
</div>
<p>You can also exclude fields from API responses. But this time, the excluded
fields <strong>will be</strong> exposed to client-side projection. The following is an
example for exclusive projection setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">people</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;datasource&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;projection&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>The above will include all document fields but <cite>username</cite>. However, the
following API call will return <cite>username</cite> this time. Thus, you can exploit this
behaviour to serve media fields or other expensive fields.</p>
<p>In most cases, none or inclusive projection setting is preferred. With
inclusive projection, secret fields are taken care from server side, and default
fields returned can be defined by short-cut functions from client-side.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> curl -i http://eve-demo.herokuapp.com/people?projection<span class="o">={</span><span class="s2">&quot;username&quot;</span>: <span class="m">1</span><span class="o">}</span>
<span class="go">HTTP/1.1 200 OK</span>
</pre></div>
</div>
<p>Please note that POST and PATCH methods will still allow the whole schema to be
manipulated. This feature can come in handy when, for example, you want to
protect insertion and modification behind an <a class="reference internal" href="authentication.html#auth"><span class="std std-ref">Authentication and Authorization</span></a> scheme while leaving
read access open to the public.</p>
<div class="admonition-see-also admonition">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="features.html#projections"><span class="std std-ref">Projections</span></a></li>
<li><a class="reference internal" href="features.html#projection-filestorage"><span class="std std-ref">Leveraging Projections to optimize the handling of media files</span></a></li>
</ul>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/eve_leaf.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=pyeve&repo=eve&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Stay Informed</h3>
<p>Receive updates on new releases and upcoming projects.</p>

<p><a href="https://twitter.com/nicolaiarocci" class="twitter-follow-button" data-show-count="false">Follow
    @nicolaiarocci</a>
  <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');</script>
</p>

<p><iframe src="http://ghbtns.com/github-btn.html?user=nicolaiarocci&type=follow&count=false" allowtransparency="true"
    frameborder="0" scrolling="0" width="200" height="20"></iframe></p>

<p><a href="http://tinyletter.com/nicolaiarocci">Join Mailing List</a>.</p>

<h3>Eve Course</h3>
<p>This course will teach you how to build RESTful services with Eve and MongoDB.</p>
<p>The teacher is the project creator and maintainer.</p>
<ul>
  <li><a href="https://training.talkpython.fm/courses/explore_eve/eve-building-restful-mongodb-backed-apis-course">Eve
      Course @ TalkPython</a></li>
</ul>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://github.com/pyeve/eve">Eve @ GitHub</a></li>
  <li><a href="https://stackoverflow.com/questions/tagged/eve">Eve @ Stack Overflow</a></li>
  <li><a href="https://groups.google.com/forum/?hl=en#!forum/python-eve">Eve @ Google Groups</a></li>
  <li><a href="irc://irc.freenode.net/python-eve">Eve @ IRC</a>
  <li><a href="https://pypi.org/project/Eve/">Eve @ PyPI</a></li>
  <li><a href="https://nicolaiarocci.com/tags/eve/">Eve @ Nicola Iarocci</a></li>
  <li><a href="https://github.com/pyeve/eve/issues">Issue Tracker</a></li>
</ul>

<h3>Other Projects</h3>

<p>More <a href="http://nicolaiarocci.com/">Nicola Iarocci</a> projects:</p>
<ul>
  <li><a href="http://python-cerberus.org/">Cerberus</a></li>
  <li><a href="https://github.com/pyeve/events">Events</a></li>
  <li><a href="https://github.com/pyeve/flask-sentinel">Flask-Sentinel</a></li>
  <li><a href="https://github.com/nicolaiarocci/flask-mimerender">Flask-MimeRender</a></li>
  <li><a href="https://github.com/pyeve/eve-demo">Eve-Demo</a></li>
  <li><a href="https://github.com/pyeve/eve-demo-client">Eve-Demo Client</a></li>
  <li><a href="https://github.com/pyeve/eve-swagger">Eve-Swagger</a></li>
  <li><a href="https://github.com/pyeve/eve-oauth2">Eve-OAuth2</a></li>
</ul><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_api_for_humans.html">REST API for Humans</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-with-files">Configuration With Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-with-a-dictionary">Configuration With a Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#development-production">Development / Production</a></li>
<li class="toctree-l2"><a class="reference internal" href="#global-configuration">Global Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#domain-configuration">Domain Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#resource-item-endpoints">Resource / Item Endpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#schema-definition">Schema Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-datasource-patterns">Advanced Datasource Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#predefined-database-filters">Predefined Database Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-api-endpoints-one-datasource">Multiple API Endpoints, One Datasource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limiting-the-fieldset-exposed-by-the-api-endpoint">Limiting the Fieldset Exposed by the API Endpoint</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Data Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication and Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="funding.html">Funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="snippets/index.html">Snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="updates.html">Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Eve Changelog</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p>
Artwork by <a href="http://kalamun.org">Kalamun</a> © 2013
</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2019. Python-Eve is a <a href="http://nicolaiarocci.com">Nicola Iarocci</a> Project.
      
    </div>

    
    <a href="https://github.com/pyeve/eve" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="_static/forkme_right_green_007200.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19006041-6', 'auto');
    ga('send', 'pageview');

</script>

  </body>
</html>